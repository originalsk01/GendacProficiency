(this.webpackJsonpgendac_product=this.webpackJsonpgendac_product||[]).push([[0],{48:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(10),i=n.n(r),s=(n(47),n(48),n(6)),o=n(15),d=n.n(o),j=n(12),l=n(80),u=n(76),b=n(77),h=n(2),O=n(20),x=n.n(O),p=n(33),f=n(78),v=n(75),g=n(79),m=n(38),y=n(1),P=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(0),o=Object(s.a)(i,2),u=o[0],b=o[1],O=Object(c.useState)(0),P=Object(s.a)(O,2),C=P[0],S=P[1];Object(c.useEffect)((function(){fetch(e.url+"/"+e.productid).then((function(e){return e.json()})).then((function(e){r(e.Name),b(e.Price),S(e.Category)}))}),[e.productid]);var k=function(){var t=Object(p.a)(x.a.mark((function t(n){var c,r,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.productid){t.next=9;break}return c=e.productid,r={Id:c,Name:a,Category:C,Price:u},t.next=6,d()({method:"put",url:e.url+"/"+e.productid,data:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(){j.b.success("Product Updated!",{onClose:function(){return window.location.reload()},theme:"dark"}),j.b.clearWaitingQueue()})).catch((function(e){j.b.error(e.response.data.Message)}));case 6:t.sent,t.next=13;break;case 9:return i={name:a,price:u,category:C},t.next=12,d()({method:"post",url:e.url,data:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(){j.b.success("Product added!",{onClose:function(){return window.location.reload()}})})).catch((function(e){e.response&&j.b.error(e.response.data.Message)}));case 12:t.sent;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)(f.a,Object(h.a)(Object(h.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(f.a.Header,{closeButton:!0,children:Object(y.jsx)(f.a.Title,{id:"contained-modal-title-vcenter",children:e.addproduct?"Add a new product":"Edit Product Details"})}),Object(y.jsx)(f.a.Body,{children:Object(y.jsxs)("form",{onSubmit:k,children:[Object(y.jsxs)(v.a,{className:"mb-3",children:[Object(y.jsxs)(g.a.Group,{as:m.a,children:[Object(y.jsx)(g.a.Label,{children:"Name"}),Object(y.jsx)(g.a.Control,{className:"name",type:"text",placeholder:"Product name",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(y.jsxs)(g.a.Group,{as:m.a,children:[Object(y.jsx)(g.a.Label,{children:"Price"}),Object(y.jsx)(g.a.Control,{className:"formPrice",type:"number",placeholder:"Price",value:u,onChange:function(e){return b(e.target.value)}})]})]}),Object(y.jsx)(g.a.Label,{children:"Category"}),Object(y.jsxs)(g.a.Select,{"aria-label":"Default select example",className:"formCategory",value:C,onChange:function(e){return S(e.target.value)},children:[Object(y.jsx)("option",{children:"Please select a category"}),Object(y.jsx)("option",{value:"1",children:"1"}),Object(y.jsx)("option",{value:"2",children:"2"}),Object(y.jsx)("option",{value:"3",children:"3"})]}),Object(y.jsx)(l.a,{style:{marginTop:10},variant:"primary",type:"submit",children:"Submit"})]})}),Object(y.jsx)(f.a.Footer,{children:Object(y.jsx)(l.a,{variant:"danger",onClick:e.onHide,children:"Close"})})]}))},C=(n(70),n(71),n(39)),S=n.n(C);var k=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(s.a)(r,2),o=i[0],h=i[1],O=Object(c.useState)(null),x=Object(s.a)(O,2),p=(x[0],x[1]),f=Object(c.useState)(!1),v=Object(s.a)(f,2),g=v[0],m=v[1],C=Object(c.useState)(!1),k=Object(s.a)(C,2),N=k[0],w=k[1],D=Object(c.useState)(!0),I=Object(s.a)(D,2),L=I[0],T=I[1],E=Object(c.useState)(1),A=Object(s.a)(E,2),B=A[0],F=A[1],z=Object(c.useState)(!1),G=Object(s.a)(z,2),J=G[0],W=(G[1],Object(c.useState)(0)),H=Object(s.a)(W,2),M=H[0],_=H[1],Q="https://gendacproficiencytest.azurewebsites.net/API/ProductsAPI";return Object(c.useEffect)((function(){fetch(Q+"?page="+B+"&pageSize=50&ascending="+J).then((function(e){return e.json()})).then((function(e){m(!0),h(e.Results),_(e.TotalNumberOfPages)}),(function(e){m(!0),p(e)}))}),[B]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("h2",{id:"Product_bar",children:["Gendac Product List"," ",Object(y.jsx)(l.a,{variant:"success",onClick:function(){return T(!0),void w(!0)},children:"Add Product"})]}),Object(y.jsx)("br",{}),Object(y.jsxs)(u.a,{striped:!0,borded:!0,hover:!0,size:"sm",style:{marginTop:30},children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"ID"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Price"}),Object(y.jsx)("th",{children:"Category"}),Object(y.jsx)("th",{children:"Edit"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:g?o.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.Id}),Object(y.jsx)("td",{children:e.Name}),Object(y.jsx)("td",{children:e.Price}),Object(y.jsx)("td",{children:e.Category}),Object(y.jsx)("td",{children:Object(y.jsx)(l.a,{variant:"primary",onClick:function(){return t=e.Id,a(t),T(!1),void w(!0);var t},children:"Edit"})}),Object(y.jsx)("td",{children:Object(y.jsx)(l.a,{variant:"danger",onClick:function(){var t,n;t=e.Name,n=e.Id,d.a.delete("".concat(Q,"/").concat(n)).then((function(e){S()({title:"Product Deleted!",text:"Product "+"".concat(n)+"\n Name: "+"".concat(t)+"\n Was successfully deleted!",icon:"success",buttons:"Great!"}).then((function(e){window.location.reload()}))}))},children:"Delete"})})]},t)})):"Loading..."})]}),Object(y.jsxs)("div",{style:{marginBottom:30},children:[Object(y.jsx)(l.a,{variant:"outline-primary",onClick:function(){F(1!=B?B-1:M)},children:"Previous Page"}),Object(y.jsx)(l.a,{variant:"outline-primary",onClick:function(){F(B!=M?B+1:1)},children:"Next Page"})," ",Object(y.jsxs)("div",{children:["Page ",B," of ",M]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(l.a,{variant:"primary",children:"Primary"}),Object(y.jsx)(l.a,{variant:"secondary",children:"Secondary"}),Object(y.jsx)(l.a,{variant:"success",children:"Success"}),Object(y.jsx)(l.a,{variant:"warning",children:"Warning"}),Object(y.jsx)(l.a,{variant:"danger",children:"Danger"}),Object(y.jsx)(l.a,{variant:"info",children:"Info"}),Object(y.jsx)(l.a,{variant:"light",children:"Light"}),Object(y.jsx)(l.a,{variant:"dark",children:"Dark"}),Object(y.jsx)(l.a,{variant:"link",children:"Link"}),"/* Outline version of the main variants */",Object(y.jsx)(l.a,{variant:"outline-primary",children:"Primary"}),Object(y.jsx)(l.a,{variant:"outline-secondary",children:"Secondary"}),Object(y.jsx)(l.a,{variant:"outline-success",children:"Success"}),Object(y.jsx)(l.a,{variant:"outline-warning",children:"Warning"}),Object(y.jsx)(l.a,{variant:"outline-danger",children:"Danger"}),Object(y.jsx)(l.a,{variant:"outline-info",children:"Info"}),Object(y.jsx)(l.a,{variant:"outline-light",children:"Light"}),Object(y.jsx)(l.a,{variant:"outline-dark",children:"Dark"})]})]}),Object(y.jsx)(P,{addproduct:L,productid:n,show:N,url:Q,onHide:function(){return w(!1)}}),Object(y.jsx)(j.a,{position:"top-right",autoClose:1500})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(k,{})}),document.getElementById("root")),N()}},[[73,1,2]]]);
//# sourceMappingURL=main.0cb64949.chunk.js.map